$(function(){$.expr[":"].contains=$.expr.createPseudo(function(e){return function(t){return $(t).text().toUpperCase().indexOf(e.toUpperCase())>=0}}),yii.confirm=function(e,t,n){var i=$(this);bootbox.confirm({message:e,callback:function(r){r?i.data("ajax")?o(i):!t||t():!n||n()},onShown:function(){$(".modal-footer").find("button").eq(0).focus()}})},$("[data-ajax]").click(function(e){var t=$(this);t.data("confirm")||($('[data-toggle="tooltip"]').tooltip("hide"),o($(t)),e.preventDefault())});function o(e){var t=$(e.data("target")),n=e.data("ajax");$.ajax({url:e.attr("href"),method:e.data("method")||"post",params:e.data("params"),success:function(i){t.length&&(n==="remove"?t.remove():n==="success"?t.toggleClass("bg-success"):n==="add"?t.addClass("is-selected"):n==="select"?t.toggleClass("is-selected"):n==="replace"&&(t.html(i),Skeleton.initContent(t)))}})}$("[data-form-toggle]").change(function(){var e=$(this),t=e.find("option:selected"),n=e.data("targets");n&&n.show().find("[data-form-toggle]").trigger("change"),n=$(),$.each(e.data("form-toggle"),function(i,r){var a=$.isArray(r[0])?r[0]:[r[0]],s=$.isArray(r[1])?r[1]:[r[1]],f,l,c;for(l=String(t.length?(f=String(a[0]).match(/^data-([\w-]+)/))?t.data(f[1]):e.val():e.prop("checked")?e.val():0),i=0;i<a.length;i++)if(String(a[i])===l){for(c=0;c<s.length;c++)n=n.add($(s[c].match(/^[.#]/)?s[c]:".field-"+s[c]).hide());break}}),e.data("targets",n),Skeleton.toggleHr()}).filter(":visible").trigger("change"),$("[data-form-target]").change(function(){var e=$(this),t=e.find("option:selected").data("value"),n=e.data("form-target"),i;for($.isArray(t)||(t=[t]),$.isArray(n)||(n=[n]),i=0;i<n.length;i++)$(n[i].match(/^[.#]/)?n[i]:"#"+n[i]).each(function(){this[this.value!==void 0?"value":"innerHTML"]=t[i]});Skeleton.toggleHr()}).filter(":visible").trigger("change"),$.fn.dropdownFilter=function(){var e=$(this),t=e.find(".dropdown-filter"),n=t.parent().next().nextAll();e.on("shown.bs.dropdown",function(){t.focus()}),t.keyup(function(i){var r=t.val(),a;n.show(),r!==""&&(n.not(':contains("'+r+'")').hide(),i.which===13&&(a=n.filter("a:visible").eq(0),a.length&&(window.location.href=a.attr("href"))))})},$(document).ajaxError(function(e,t){var n=t.responseText;n&&bootbox.alert(n)}),Skeleton.initContent()});var Skeleton={initContent:function(o){var e=this,t=$(o||"body");t.find('[data-toggle="tooltip"]').tooltip(),$.hasOwnProperty("timeago")&&t.find(".timeago").timeago(),e.hasJUI()&&t.find(".sortable").each(function(){var n=$(this);n.sortable({axis:"y",handle:".sortable-handle",helper:function(i,r){var a=r.children(),s=r.clone();return s.children().each(function(f){$(this).width(a.eq(f).outerWidth())}),s},update:function(){$.post(n.data("sort-url"),$(this).sortable("serialize"))}})})},replaceWithAjax:function(o,e){var t=this,n=$(o);e=$.extend({url:document.location.href},typeof e=="string"?{url:e}:e||{}),$.ajax(e).done(function(i){t.initContent(n.html($("<div>").html(i).find(o).html()))})},toggleHr:function(){$("hr").each(function(){var o=$(this);o.toggle(o.nextUntil("hr, .form-group-sticky").filter(":visible").length>0)})},hasJUI:function(){return $.hasOwnProperty("ui")},initSelection:function(o){var e=$(o).find("input[type=checkbox]").on("change",function(){var t=e.filter(":checked").length>0;$("#btn-selection").toggle(t).closest(".hidden-if-inactive").toggleClass("active",t)})},uploadProgress:function(o,e){var t=parseInt(e.loaded/e.total*100,10);$("#progress").toggle(t<100).find(".bar").css("width",t+"%")}};function normalizeHex(o,e){if(o){var t=String(o).trim();if(t[0]!=="#"&&(t="#"+t),t=t.toLowerCase(),/^#[0-9a-f]{3}$/.test(t))return"#"+t[1]+t[1]+t[2]+t[2]+t[3]+t[3];if(/^#[0-9a-f]{6}$/.test(t))return t}return e?"#000000":""}document.querySelectorAll("[data-color]").forEach(function(o){var e=o.querySelectorAll("input"),t=!1;e.forEach(function(n){n.addEventListener("change",function(){t||(t=!0,e.forEach(function(i){i.value=normalizeHex(n.value,n.required)}),setTimeout(function(){t=!1},100))})})});
//# sourceMappingURL=admin.min.js.map
