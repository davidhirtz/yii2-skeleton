$(function(){$.expr[":"].contains=$.expr.createPseudo(function(e){return function(t){return $(t).text().toUpperCase().indexOf(e.toUpperCase())>=0}}),yii.confirm=function(e,t,i){var n=$(this);bootbox.confirm({message:e,callback:function(o){o?n.data("ajax")?a(n):!t||t():!i||i()},onShown:function(){$(".modal-footer").find("button").eq(0).focus()}})},$("[data-ajax]").click(function(e){var t=$(this);t.data("confirm")||($('[data-toggle="tooltip"]').tooltip("hide"),a($(t)),e.preventDefault())});function a(e){var t=$(e.data("target")),i=e.data("ajax");$.ajax({url:e.attr("href"),method:e.data("method")||"post",params:e.data("params"),success:function(n){t.length&&(i==="remove"?t.remove():i==="success"?t.toggleClass("bg-success"):i==="add"?t.addClass("is-selected"):i==="select"?t.toggleClass("is-selected"):i==="replace"&&(t.html(n),Skeleton.initContent(t)))}})}$("[data-form-toggle]").change(function(){var e=$(this),t=e.find("option:selected"),i=e.data("targets");i&&i.show().find("[data-form-toggle]").trigger("change"),i=$(),$.each(e.data("form-toggle"),function(n,o){var r=$.isArray(o[0])?o[0]:[o[0]],s=$.isArray(o[1])?o[1]:[o[1]],c,f,l;for(f=String(t.length?(c=String(r[0]).match(/^data-([\w-]+)/))?t.data(c[1]):e.val():e.prop("checked")?e.val():0),n=0;n<r.length;n++)if(String(r[n])===f){for(l=0;l<s.length;l++)i=i.add($(s[l].match(/^[.#]/)?s[l]:".field-"+s[l]).hide());break}}),e.data("targets",i),Skeleton.toggleHr()}).filter(":visible").trigger("change"),$("[data-form-target]").change(function(){var e=$(this),t=e.find("option:selected").data("value"),i=e.data("form-target"),n;for($.isArray(t)||(t=[t]),$.isArray(i)||(i=[i]),n=0;n<i.length;n++)$(i[n].match(/^[.#]/)?i[n]:"#"+i[n]).each(function(){this[this.value!==void 0?"value":"innerHTML"]=t[n]});Skeleton.toggleHr()}).filter(":visible").trigger("change"),$.fn.dropdownFilter=function(){var e=$(this),t=e.find(".dropdown-filter"),i=t.parent().next().nextAll();e.on("shown.bs.dropdown",function(){t.focus()}),t.keyup(function(n){var o=t.val(),r;i.show(),o!==""&&(i.not(':contains("'+o+'")').hide(),n.which===13&&(r=i.filter("a:visible").eq(0),r.length&&(window.location.href=r.attr("href"))))})},$(document).ajaxError(function(e,t){var i=t.responseText;i&&bootbox.alert(i)}),Skeleton.initContent()});var Skeleton={initContent:function(a){var e=this,t=$(a||"body");t.find('[data-toggle="tooltip"]').tooltip(),$.hasOwnProperty("timeago")&&t.find(".timeago").timeago(),e.hasJUI()&&t.find(".sortable").each(function(){var i=$(this);i.sortable({axis:"y",handle:".sortable-handle",helper:function(n,o){var r=o.children(),s=o.clone();return s.children().each(function(c){$(this).width(r.eq(c).outerWidth())}),s},update:function(){$.post(i.data("sort-url"),$(this).sortable("serialize"))}})})},replaceWithAjax:function(a,e){var t=this,i=$(a);e=$.extend({url:document.location.href},typeof e=="string"?{url:e}:e||{}),$.ajax(e).done(function(n){t.initContent(i.html($("<div>").html(n).find(a).html()))})},toggleHr:function(){$("hr").each(function(){var a=$(this);a.toggle(a.nextUntil("hr, .form-group-sticky").filter(":visible").length>0)})},hasJUI:function(){return $.hasOwnProperty("ui")},initSelection:function(a){var e=$(a).find("input[type=checkbox]").on("change",function(){var t=e.filter(":checked").length>0;$("#btn-selection").toggle(t).closest(".hidden-if-inactive").toggleClass("active",t)})},uploadProgress:function(a,e){var t=parseInt(e.loaded/e.total*100,10);$("#progress").toggle(t<100).find(".bar").css("width",t+"%")}};
//# sourceMappingURL=admin.min.js.map
