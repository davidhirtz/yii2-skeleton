{
  "version": 3,
  "sources": ["admin.js"],
  "sourcesContent": ["$(function () {\n    /**\n     * Extend jQuery to filter case insensitive.\n     */\n    $.expr[\":\"].contains = $.expr.createPseudo(function (arg) {\n        return function (e) {\n            return $(e).text().toUpperCase().indexOf(arg.toUpperCase()) >= 0;\n        };\n    });\n\n    /**\n     * Use Bootbox for yii confirm dialogs.\n     */\n    yii.confirm = function (message, ok, cancel) {\n        var $link = $(this);\n\n        bootbox.confirm(message, function (result) {\n            if (result) {\n                if ($link.data('ajax')) {\n                    _ajaxLink($link);\n                } else {\n                    !ok || ok();\n                }\n            } else {\n                !cancel || cancel();\n            }\n        });\n    };\n\n    /**\n     * Use same functionality as yii.confirm for regular data-ajax links.\n     */\n    $('[data-ajax]').click(function (e) {\n        var $link = $(this);\n\n        if (!$link.data('confirm')) {\n            // Close tooltips as they might go rogue when elements change after the ajax request on click.\n            $('[data-toggle=\"tooltip\"]').tooltip('hide');\n            _ajaxLink($($link));\n\n            e.preventDefault();\n        }\n    });\n\n    /**\n     * Helper function for yii.confirm and regular data-ajax links.\n     * @param $link\n     * @private\n     */\n    function _ajaxLink($link) {\n        var $target = $($link.data('target')),\n            action = $link.data('ajax');\n\n        $.ajax({\n            url: $link.attr('href'),\n            method: $link.data('method') || 'post',\n            params: $link.data('params'),\n            success: function (content) {\n                if ($target.length) {\n                    if (action === 'remove') {\n                        $target.remove();\n\n                    } else if (action === 'success') {\n                        $target.toggleClass('bg-success');\n\n                    } else if (action === 'select') {\n                        $target.toggleClass('is-selected');\n\n                    } else if (action === 'replace') {\n                        $target.html(content);\n                        Skeleton.initContent($target);\n                    }\n                }\n            }\n        });\n    }\n\n    /**\n     * Toggle form groups based on \"data-form-toggle\" attribute.\n     *\n     * The first array position  represent all possible values on which all target elements listed\n     * in the second array position will be hidden. Elements can be either a class or id selector\n     * or the name of the field in which case the corresponding row will be hidden.\n     *\n     * [\n     *     [\n     *         [3,6],\n     *         [\"section-content_de\",\"section-content\"]\n     *     ],\n     * ]\n     */\n    $('[data-form-toggle]').change(function () {\n        var $input = $(this),\n            $option = $input.find('option:selected'),\n            $targets = $input.data('targets');\n\n        if ($targets) {\n            $targets.show().find('[data-form-toggle]').trigger('change');\n        }\n\n        $targets = $();\n\n        $.each($input.data('form-toggle'), function (x, data) {\n            var values = $.isArray(data[0]) ? data[0] : [data[0]],\n                targets = $.isArray(data[1]) ? data[1] : [data[1]],\n                matches,\n                value,\n                z;\n\n            value = String($option.length ?\n                ((matches = String(values[0]).match(/^data-([\\w-]+)/)) ? $option.data(matches[1]) : $input.val()) :\n                ($input.prop('checked') ? $input.val() : 0));\n\n            for (x = 0; x < values.length; x++) {\n                if (String(values[x]) === value) {\n                    for (z = 0; z < targets.length; z++) {\n                        $targets = $targets.add($(targets[z].match(/^[.#]/) ? targets[z] : ('.field-' + targets[z])).hide());\n                    }\n\n                    break;\n                }\n            }\n        });\n\n        $input.data('targets', $targets);\n        Skeleton.toggleHr();\n\n    }).filter(':visible').trigger('change');\n\n    /**\n     * Toggle form groups based on \"data-form-toggle\" tag.\n     */\n    $('[data-form-target]').change(function () {\n        var $input = $(this),\n            values = $input.find('option:selected').data('value'),\n            targets = $input.data('form-target'),\n            i;\n\n        if (!$.isArray(values)) {\n            values = [values];\n        }\n\n        if (!$.isArray(targets)) {\n            targets = [targets];\n        }\n\n        for (i = 0; i < targets.length; i++) {\n            $(targets[i].match(/^[.#]/) ? targets[i] : (\"#\" + targets[i])).each(function () {\n                this[this.value !== undefined ? \"value\" : \"innerHTML\"] = values[i];\n            });\n        }\n\n        Skeleton.toggleHr();\n\n    }).filter(':visible').trigger('change');\n\n    /**\n     * Enables filter in ButtonDropdown.\n     */\n    $.fn.dropdownFilter = function () {\n        var $dropdown = $(this),\n            $filter = $dropdown.find('.dropdown-filter'),\n            $items = $filter.parent().next().nextAll();\n\n        $dropdown.on('shown.bs.dropdown', function () {\n            $filter.focus();\n        });\n\n        $filter.keyup(function (e) {\n            var val = $filter.val(),\n                $target;\n\n            $items.show();\n\n            if (val !== '') {\n                $items.not(':contains(\"' + val + '\")').hide();\n\n                if (e.which === 13) {\n                    $target = $items.filter('a:visible').eq(0);\n\n                    if ($target.length) {\n                        window.location.href = $target.attr('href');\n                    }\n                }\n            }\n        });\n    };\n\n    $(document).ajaxError(function (e, data) {\n        var error = data.responseText;\n\n        if (error) {\n            bootbox.alert(error);\n        }\n    });\n\n    Skeleton.initContent();\n});\n\nvar Skeleton = {\n    /**\n     * Init content.\n     * @param container\n     */\n    initContent: function (container) {\n        var _ = this,\n            $container = $(container || 'body');\n\n        // Bootstrap tooltips.\n        $container.find('[data-toggle=\"tooltip\"]').tooltip();\n\n        // Timeago.\n        if ($.hasOwnProperty('timeago')) {\n            // noinspection JSUnresolvedFunction\n            $container.find('.timeago').timeago();\n        }\n\n        if (_.hasJUI()) {\n            // Sortable.\n            $container.find('.sortable').each(function () {\n                var $sortable = $(this);\n                $sortable.sortable({\n                    axis: 'y',\n                    handle: '.sortable-handle',\n                    helper: function (e, $target) {\n                        var $children = $target.children(),\n                            $clone = $target.clone();\n\n                        $clone.children().each(function (index) {\n                            $(this).width($children.eq(index).outerWidth());\n                        });\n\n                        return $clone;\n                    },\n                    update: function () {\n                        $.post($sortable.data('sort-url'), $(this).sortable('serialize'));\n                    }\n                });\n            });\n        }\n    },\n\n    /**\n     * Loads given url and replaces the selected element. Initializes\n     * @param target\n     * @param data\n     */\n    replaceWithAjax: function (target, data) {\n        var _ = this,\n            $target = $(target);\n\n        data = $.extend({url: document.location.href}, (typeof data === 'string') ? {url: data} : (data || {}));\n\n        $.ajax(data).done(function (html) {\n            _.initContent($target.html($('<div>').html(html).find(target).html()));\n        });\n    },\n\n    /**\n     * Toggles <hr> based on visibility of neighbors.\n     */\n    toggleHr: function () {\n        $('hr').each(function () {\n            var $hr = $(this);\n            // noinspection JSCheckFunctionSignatures\n            $hr.toggle($hr.nextUntil('hr, .form-group-sticky').filter(':visible').length > 0);\n        });\n    },\n\n    /**\n     * Whether jQuery UI is loaded.\n     * @return {boolean}\n     */\n    hasJUI: function () {\n        return $.hasOwnProperty('ui');\n    },\n\n    /**\n     * Toggles selection buttons in grid view. Can also toggle the parent \".grid-view-header\" or \".grid-view-footer\"\n     * element it's given the \".hidden-if-inactive\" class.\n     *\n     * @param form\n     */\n    initSelection: function (form) {\n        var $checkboxes = $(form).find('input[type=checkbox]').on('change', function () {\n            var isSelected = $checkboxes.filter(':checked').length > 0;\n            $('#btn-selection').toggle(isSelected).closest('.hidden-if-inactive').toggleClass('active', isSelected);\n        })\n    },\n\n    uploadProgress: function (e, data) {\n        var progress = parseInt(data.loaded / data.total * 100, 10);\n        $('#progress').toggle(progress < 100).find('.bar').css('width', progress + '%');\n    }\n};"],
  "mappings": "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",
  "names": ["arg", "e", "message", "ok", "cancel", "$link", "result", "_ajaxLink", "$target", "action", "content", "$input", "$option", "$targets", "x", "data", "values", "targets", "matches", "value", "z", "i", "$dropdown", "$filter", "$items", "val", "error", "container", "_", "$container", "$sortable", "$children", "$clone", "index", "target", "html", "$hr", "form", "$checkboxes", "isSelected", "progress"]
}
