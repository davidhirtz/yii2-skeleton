{
  "version": 3,
  "sources": ["plugin.js"],
  "sourcesContent": ["/**\n * Extra buttons set via CKEDITOR.buttons.\n */\nCKEDITOR.plugins.add('extra', {\n    init: function (editor) {\n        var buttons = CKEDITOR.buttons;\n\n        function addButtonCommand(button) {\n            var style = new CKEDITOR.style(button.definition);\n\n            editor.attachStyleStateChange(style, function (state) {\n                !editor.readOnly && editor.getCommand(button.command).setState(state);\n            });\n\n            editor.addCommand(button.command, new CKEDITOR.styleCommand(style));\n\n            editor.ui.addButton(button.name, {\n                label: button.label,\n                command: button.command,\n                icon: button.icon\n            });\n        }\n\n        for (var i = 0; i < buttons.length; i++) {\n            addButtonCommand(buttons[i]);\n        }\n\n        CKEDITOR.remove('buttons');\n    }\n});\n\nCKEDITOR.on('dialogDefinition', function (event) {\n    var dialogName = event.data.name;\n\n    if (dialogName === 'link') {\n        var dialogDefinition = event.data.definition,\n            infoTab = dialogDefinition.getContents('info'),\n            url = infoTab.get('url'),\n            linkType = infoTab.get('linkType'),\n            targetTab = dialogDefinition.getContents('target'),\n            targetType = targetTab.get('linkTargetType');\n\n        // Removes the \"Protocol\" dropdown from the \"Link Info\" tab.\n        infoTab.remove('protocol');\n\n        // Removes the \"Browse Server\" button from the \"Link Info\" tab.\n        infoTab.remove('browse');\n\n        // Remove \"Link to anchor in the text\" option from the \"Link Info\" tab and uses the regular link type for anchors.\n        linkType.setup = function (data) {\n            if (data.type === 'anchor') {\n                data.url = {protocol: '', url: '#' + data.anchor.name};\n                data.type = 'url';\n            }\n\n            this.setValue(data.type || 'url');\n        }\n\n        linkType.items = [linkType.items[0], linkType.items[2], linkType.items[3]];\n        infoTab.remove('anchorOptions');\n\n        // Overrides the default url events.\n        url.onKeyUp = function (data) {\n        };\n\n        url.setup = function (data) {\n            this.allowOnChange = false;\n\n            if (data.url) {\n                this.setValue((typeof data.url.protocol == 'string' ? data.url.protocol : '') + data.url.url);\n            }\n\n            this.allowOnChange = true;\n        };\n\n        url.commit = function (data) {\n            data.url = {protocol: '', url: this.getValue()};\n        };\n\n        // Only show <not set> and <_blank> targets from the \"Target\" tab.\n        targetType.items = [targetType.items[0], targetType.items[3]];\n        targetTab.elements[0].widths = ['100%'];\n\n        // Cannot remove 'popupFeatures' without breaking the target=\"_blank\" functionality, hiding it seems to solve it\n        targetTab.get('popupFeatures').style = 'display:none';\n\n        // Hide link target name.\n        targetTab.get('linkTargetName').style = 'display:none';\n    }\n});\n\nCKEDITOR.on('instanceReady', function (event) {\n    event.editor.dataProcessor.writer.selfClosingEnd = '>';\n    event.editor.dataProcessor.writer.setRules('p', {\n        breakBeforeOpen: false,\n        breakAfterClose: false\n    });\n});"],
  "mappings": "AAGA,SAAS,QAAQ,IAAI,QAAS,CAC1B,KAAM,SAAUA,EAAQ,CACpB,IAAIC,EAAU,SAAS,QAEvB,SAASC,EAAiBC,EAAQ,CAC9B,IAAIC,EAAQ,IAAI,SAAS,MAAMD,EAAO,UAAU,EAEhDH,EAAO,uBAAuBI,EAAO,SAAUC,EAAO,CAClD,CAACL,EAAO,UAAYA,EAAO,WAAWG,EAAO,OAAO,EAAE,SAASE,CAAK,CACxE,CAAC,EAEDL,EAAO,WAAWG,EAAO,QAAS,IAAI,SAAS,aAAaC,CAAK,CAAC,EAElEJ,EAAO,GAAG,UAAUG,EAAO,KAAM,CAC7B,MAAOA,EAAO,MACd,QAASA,EAAO,QAChB,KAAMA,EAAO,IACjB,CAAC,CACL,CAEA,QAASG,EAAI,EAAGA,EAAIL,EAAQ,OAAQK,IAChCJ,EAAiBD,EAAQK,CAAC,CAAC,EAG/B,SAAS,OAAO,SAAS,CAC7B,CACJ,CAAC,EAED,SAAS,GAAG,mBAAoB,SAAUC,EAAO,CAC7C,IAAIC,EAAaD,EAAM,KAAK,KAE5B,GAAIC,IAAe,OAAQ,CACvB,IAAIC,EAAmBF,EAAM,KAAK,WAC9BG,EAAUD,EAAiB,YAAY,MAAM,EAC7CE,EAAMD,EAAQ,IAAI,KAAK,EACvBE,EAAWF,EAAQ,IAAI,UAAU,EACjCG,EAAYJ,EAAiB,YAAY,QAAQ,EACjDK,EAAaD,EAAU,IAAI,gBAAgB,EAG/CH,EAAQ,OAAO,UAAU,EAGzBA,EAAQ,OAAO,QAAQ,EAGvBE,EAAS,MAAQ,SAAUG,EAAM,CACzBA,EAAK,OAAS,WACdA,EAAK,IAAM,CAAC,SAAU,GAAI,IAAK,IAAMA,EAAK,OAAO,IAAI,EACrDA,EAAK,KAAO,OAGhB,KAAK,SAASA,EAAK,MAAQ,KAAK,CACpC,EAEAH,EAAS,MAAQ,CAACA,EAAS,MAAM,CAAC,EAAGA,EAAS,MAAM,CAAC,EAAGA,EAAS,MAAM,CAAC,CAAC,EACzEF,EAAQ,OAAO,eAAe,EAG9BC,EAAI,QAAU,SAAUI,EAAM,CAC9B,EAEAJ,EAAI,MAAQ,SAAUI,EAAM,CACxB,KAAK,cAAgB,GAEjBA,EAAK,KACL,KAAK,UAAU,OAAOA,EAAK,IAAI,UAAY,SAAWA,EAAK,IAAI,SAAW,IAAMA,EAAK,IAAI,GAAG,EAGhG,KAAK,cAAgB,EACzB,EAEAJ,EAAI,OAAS,SAAUI,EAAM,CACzBA,EAAK,IAAM,CAAC,SAAU,GAAI,IAAK,KAAK,SAAS,CAAC,CAClD,EAGAD,EAAW,MAAQ,CAACA,EAAW,MAAM,CAAC,EAAGA,EAAW,MAAM,CAAC,CAAC,EAC5DD,EAAU,SAAS,CAAC,EAAE,OAAS,CAAC,MAAM,EAGtCA,EAAU,IAAI,eAAe,EAAE,MAAQ,eAGvCA,EAAU,IAAI,gBAAgB,EAAE,MAAQ,eAEhD,CAAC,EAED,SAAS,GAAG,gBAAiB,SAAUN,EAAO,CAC1CA,EAAM,OAAO,cAAc,OAAO,eAAiB,IACnDA,EAAM,OAAO,cAAc,OAAO,SAAS,IAAK,CAC5C,gBAAiB,GACjB,gBAAiB,EACrB,CAAC,CACL,CAAC",
  "names": ["editor", "buttons", "addButtonCommand", "button", "style", "state", "i", "event", "dialogName", "dialogDefinition", "infoTab", "url", "linkType", "targetTab", "targetType", "data"]
}
