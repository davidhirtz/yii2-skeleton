CKEDITOR.plugins.add("extra",{init:function(n){var e=CKEDITOR.buttons;function t(t){var e=new CKEDITOR.style(t.definition);n.attachStyleStateChange(e,function(e){n.readOnly||n.getCommand(t.command).setState(e)}),n.addCommand(t.command,new CKEDITOR.styleCommand(e)),n.ui.addButton(t.name,{label:t.label,command:t.command,icon:t.icon})}for(var o=0;o<e.length;o++)t(e[o]);CKEDITOR.remove("buttons")}}),CKEDITOR.on("dialogDefinition",function(e){var t=e.data.name,n=e.data.definition;if("link"===t){var o=n.getContents("info"),a=o.get("url"),i=n.getContents("target"),l=i.get("linkTargetType");o.remove("protocol"),o.remove("emailOptions"),o.remove("telOptions"),o.remove("anchorOptions"),o.remove("browse"),o.get("linkType").style="display: none",a.onKeyUp=function(e){},a.setup=function(e){this.allowOnChange=!1,e.url&&this.setValue(("string"==typeof e.url.protocol?e.url.protocol:"")+e.url.url),this.allowOnChange=!0},a.commit=function(e){e.url={protocol:"",url:this.getValue()}},l.items=[l.items[0],l.items[3]],i.remove("linkTargetName"),i.remove("popupFeatures"),i.elements[0].widths=["100%"]}});