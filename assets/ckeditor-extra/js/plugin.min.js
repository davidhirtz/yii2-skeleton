CKEDITOR.plugins.add("extra",{init:function(n){var e=CKEDITOR.buttons;for(var t=0;t<e.length;t++)!function(t){var e=new CKEDITOR.style(t.definition);n.attachStyleStateChange(e,function(e){n.readOnly||n.getCommand(t.command).setState(e)}),n.addCommand(t.command,new CKEDITOR.styleCommand(e)),n.ui.addButton(t.name,{label:t.label,command:t.command,icon:t.icon})}(e[t]);CKEDITOR.remove("buttons")}}),CKEDITOR.on("dialogDefinition",function(e){var t,n,o;"link"===e.data.name&&(n=(t=(o=e.data.definition).getContents("info")).get("url"),o=(e=o.getContents("target")).get("linkTargetType"),t.remove("protocol"),t.remove("emailOptions"),t.remove("telOptions"),t.remove("anchorOptions"),t.remove("browse"),t.get("linkType").style="display: none",e.get("linkTargetName").style="display: none",n.onKeyUp=function(e){},n.setup=function(e){this.allowOnChange=!1,e.url&&this.setValue(("string"==typeof e.url.protocol?e.url.protocol:"")+e.url.url),this.allowOnChange=!0},n.commit=function(e){e.url={protocol:"",url:this.getValue()}},o.items=[o.items[0],o.items[3]],e.elements[0].widths=["100%"])}),CKEDITOR.on("instanceReady",function(e){e.editor.dataProcessor.writer.selfClosingEnd=">",e.editor.dataProcessor.writer.setRules("p",{breakBeforeOpen:!1,breakAfterClose:!1})});