$(function(){yii.confirm=function(t,r,i){var n=$(this);bootbox.confirm(t,function(t){if(t)if(n.data("ajax")){var a=$(n.data("target")),e=n.data("ajax");$.ajax({url:n.attr("href"),method:n.data("method")||"post",params:n.data("params"),success:function(){a.length&&("remove"===e?a.remove():"success"===e&&a.toggleClass("bg-success"))}})}else!r||r();else!i||i()})},$('[data-toggle="tooltip"]').tooltip(),$("[data-form-toggle]").change(function(){var s=$(this),g=s.find("option:selected");s.data("targets")&&$(s.data("targets")).each(function(){this.show()}),s.data("targets",[]),$.each(s.data("form-toggle"),function(t,a){var e,r,i,n=$.isArray(a[0])?a[0]:[a[0]],o=$.isArray(a[1])?a[1]:[a[1]];for(r=String(g.length?(e=String(n[0]).match(/^data-([\w-]+)/))?g.data(e[1]):s.val():s.prop("checked")?s.val():0),t=0;t<n.length;t++)if(String(n[t])===r){for(i=0;i<o.length;i++)s.data("targets").push($(o[i].match(/^[.#]/)?o[i]:".field-"+o[i]).hide());break}})}).filter(":visible").trigger("change"),$("[data-form-target]").change(function(){var t=$(this),a=t.find("option:selected").data("value"),e=t.data("form-target");$(e.match(/^[.#]/)?e:"#"+e).html(a)}).filter(":visible").trigger("change"),$.fn.signupForm=function(){return $(this).on("beforeValidate",function(){var a=$("#token");a.val()||($("#tz").val(jstz.determine().name()),$("#honeypot").val(""),$.get(a.data("url"),function(t){a.val(t)}))})}});