{
  "version": 3,
  "sources": ["../../src/js/signup.ts"],
  "sourcesContent": ["import htmx from \"htmx.org\";\n\nhtmx.onLoad(($container) => {\n    (($container as HTMLElement).querySelectorAll('[data-id=\"signup\"]') as NodeListOf<HTMLFormElement>).forEach(($form) => {\n        const getField = (id: string): HTMLInputElement => {\n            return $form.querySelector(`[data-id=\"${id}\"]`) as HTMLInputElement;\n        }\n\n        const $csrfToken = ($form.elements[0] as HTMLInputElement);\n        const $token = getField('token');\n        const $honeypot = getField('honeypot');\n        const $timeZone = getField('tz');\n\n        $timeZone.value = new Intl.DateTimeFormat().resolvedOptions().timeZone || 'UTC';\n\n        if (!$token.value) {\n            const url = $token.dataset.url!;\n            const options: RequestInit = {\n                method: 'POST',\n                headers: {\n                    'X-CSRF-Token': $csrfToken.value\n                }\n            };\n\n            $token.removeAttribute('data-url');\n\n            setTimeout(() => {\n                fetch(url, options)\n                    .then(response => response.json())\n                    .then(data => {\n                        $csrfToken.value = data.csrf;\n                        $token.value = data.token;\n                        $honeypot.value = '';\n                    });\n            }, 1000);\n        }\n    });\n});"],
  "mappings": "mCAEAA,EAAK,OAAQC,GAAe,CACtBA,EAA2B,iBAAiB,oBAAoB,EAAkC,QAASC,GAAU,CACnH,IAAMC,EAAYC,GACPF,EAAM,cAAc,aAAaE,CAAE,IAAI,EAG5CC,EAAcH,EAAM,SAAS,CAAC,EAC9BI,EAASH,EAAS,OAAO,EACzBI,EAAYJ,EAAS,UAAU,EAC/BK,EAAYL,EAAS,IAAI,EAI/B,GAFAK,EAAU,MAAQ,IAAI,KAAK,eAAe,EAAE,gBAAgB,EAAE,UAAY,MAEtE,CAACF,EAAO,MAAO,CACf,IAAMG,EAAMH,EAAO,QAAQ,IACrBI,EAAuB,CACzB,OAAQ,OACR,QAAS,CACL,eAAgBL,EAAW,KAC/B,CACJ,EAEAC,EAAO,gBAAgB,UAAU,EAEjC,WAAW,IAAM,CACb,MAAMG,EAAKC,CAAO,EACb,KAAKC,GAAYA,EAAS,KAAK,CAAC,EAChC,KAAKC,GAAQ,CACVP,EAAW,MAAQO,EAAK,KACxBN,EAAO,MAAQM,EAAK,MACpBL,EAAU,MAAQ,EACtB,CAAC,CACT,EAAG,GAAI,CACX,CACJ,CAAC,CACL,CAAC",
  "names": ["htmx_esm_default", "$container", "$form", "getField", "id", "$csrfToken", "$token", "$honeypot", "$timeZone", "url", "options", "response", "data"]
}
